$(document).ready(function(){let n;var r=$("#nameProduct")[0],i=$("#priceProduct")[0],s=$("#imageProduct")[0],o=0;function t(){$.ajax({url:"https://cs420b-ajax.onrender.com/",type:"GET",dataType:"json",success:function(e){var a,t=n=e,c=(t=(t=t.map((e,a)=>`
                <div class="col">
                    <div class="p-3">
                        <div class="card" style="width: 18rem;">
                            <img src="${e.image}" class="card-img-top">
                            <div class="card-body">
                                <h5 class="card-title">${e.name}</h5>
                                <p class="card-text">${e.price}</p>
                                <button id=${e.id} class="choose btn btn-primary">Choose</button>
                            </div>
                        </div>
                    </div>
                </div>
            `)).join(""),$("#content")[0].innerHTML=t,e);for(a of $(".choose"))a.onclick=a=>{c.forEach(e=>{e.id==a.target.id&&(o=e.id,r.value=e.name,i.value=e.price,s.value=e.image)})}}})}t(),$("#create").on("click",e=>{var a={name:r.value,price:i.value,image:s.value};$.ajax({url:"https://cs420b-ajax.onrender.com/create",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(){t()},error:function(e,a){console.log(123123123),alert("Request: "+JSON.stringify(e))}})}),$("#delete").on("click",e=>{0!==o&&$.ajax({url:"https://cs420b-ajax.onrender.com/delete/"+o,type:"POST",success:function(){t()},error:function(e,a){alert("Request: "+JSON.stringify(e))}})}),$("#update").on("click",e=>{var a;0!==o&&(a={name:r.value,price:i.value,image:s.value},$.ajax({url:"https://cs420b-ajax.onrender.com/update/"+o,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(){t()},error:function(e,a){alert("Request: "+JSON.stringify(e))}}))})});